"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[5360],{55360:(e,t,r)=>{r.d(t,{f:()=>D});var a=r(1885),o=r(3735),n=r(17230),l=r(57373),s=r(85198),i=r(57842),c=r(13217),h=r(74235),f=r(11324),u=r(7383),g=r(577),d=r(47820),P=r(15665),z=r(40755);const b=e=>{const t=(e=>t=>{const r=(0,o.zG)(t,z.UI((e=>{let[t,r,a]=e;return{hasFetchedAllPages:t,fetchDataParams:r,fetchDataAndBuildActions:a}}))),a=(0,o.zG)(r,z.UP(e),z.EB((e=>{let{fetchDataParams:t}=e;return t.page})),z.oE((e=>{let{hasFetchedAllPages:t}=e;return!1===t})));return(0,o.zG)(a,z.Mm(r,((e,t)=>t)),z.zg((e=>{let{fetchDataParams:t,fetchDataAndBuildActions:r}=e;return(0,o.zG)(r(t),P.XD(3))})))})((0,f.m)((e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{const a=(0,o.zG)(e,z.UI((e=>{let[t,r,a,o]=e;return{shouldDisableInfiniteScroll:t,fetchDataParams:r,intersectionObserverRoot:a,intersectionObserverRootMarginBottom:o}}))),n=(0,o.zG)(a,z.DZ((e=>{let{intersectionObserverRoot:t}=e;return t})),z.xb()),l=(0,o.zG)(a,z.UI((e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3})),z.xb()),s=(0,o.zG)(a,z.UI((e=>{let{fetchDataParams:t}=e;return t.page})),z.xb()),c=(0,o.zG)(z.aj([r,n,l,s]),z.wt((e=>{let[t,r,a]=e;return(0,o.zG)(t,i.g_((()=>z.E_),(e=>(0,o.zG)(z.bH(e,{root:r,rootMargin:(0,d.Ae)({top:u.ZI,right:u.ZI,bottom:u.Ei(a),left:u.ZI})}),z.hX(d.Yu)))))}))),h=(0,o.zG)(a,z.UI((e=>e.shouldDisableInfiniteScroll)),z.xb());return(0,o.zG)(a,z.UP(z.TS((0,o.zG)(z.aj([c,h]),z.hX((e=>{let[t,r]=e;return!1===r}))),t)))}})({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.shouldDisableInfiniteScroll,e.fetchDataParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),r=[e.hasFetchedAllPages,e.fetchDataParams,e.fetchDataAndBuildActions],a=(0,f.m)(t,r);(0,g.Rd)(a)},m=e=>{let{lastPageFetched:t,perPage:r,total:a}=e;return t>=(e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)})({total:a,perPage:r})},p=e=>{let{feedState:t,feedItems:r,renderItems:a,getScrollFooterEl:i,...f}=e;const[u,g]=(0,n.m)((e=>(0,o.zG)(e,s.DZ))),d=h.Yen((()=>(e=>{let{lastPageFetched:t,perPage:r,orderBy:a}=e;return{page:t+1,perPage:r,orderBy:a}})(t)),[t]),P=h.Yen((()=>m(t)),[t]);return b({fetchDataParams:d,hasFetchedAllPages:P,footerRefOption$:g,...f}),h.azq(h.PRT,null,a({items:r,hasFetchedAllPages:P,total:t.total}),h.azq(h.tJQ,{ref:u,...(0,c.N)(l.gZ)}),!1===P&&i())},D=e=>{let{feedStateOption:t,feedItemsOption:r,getNoContentEl:n,getPlaceholderEl:l,...s}=e;return h.azq(h.PRT,null,(0,o.zG)(i.gz(t,r),i.UI((e=>{let[t,r]=e;return(0,o.zG)(r,a.nI,i.g_(n,(e=>h.azq(p,{feedState:t,feedItems:e,...s}))))})),i.HV(l)))}}}]);
//# sourceMappingURL=5360.ba7a2942c2531eed9c73.js.map