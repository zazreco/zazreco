"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[6378],{9706:(t,e,n)=>{n.d(e,{L:()=>i});var o=n(57842);const i=n(74235).kr9(o.YP)},56378:(t,e,n)=>{n.d(e,{q:()=>Q,Z:()=>j});var o={};n.r(o),n.d(o,{load_more_button_label:()=>B});var i={};n.r(i),n.d(i,{load_more_button_label:()=>U});var l=n(3735),s=n(30845),r=n(37703),a=n(91384),d=n(66132),c=n(49321),h=n(18711),u=n(52999),p=n(4094),I=n(4047),f=n(15665),g=n(57842),S=n(87976),b=n(6464),q=n(93416),O=n(15964),m=n(9435),E=n(74235),P=n(17060),R=n(59147),v=n(55360),z=n(6671),_=n(9706);const N="gDCZZ",k="HxaG2",A="ATnvl",w="dycl5 hNER6 jJsTo qBwND",C="PwSsU O84oE",T="rx4AP";var Z=n(85173);const B=()=>"Load more photos",U=()=>"Carga mÃ¡s fotos",{getTranslations:y,useTranslations:D,withTranslations:F}=(0,Z.U)({EnUs:o,EsEs:i});function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Q=()=>E.azq(E.tJQ,{className:k},E.azq(E.tJQ,{className:A},p.w6H(0,17).map((t=>E.azq(E.tJQ,{key:t,className:w},E.azq(E.tJQ,{className:C})))))),x=(0,q.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:I.HP((()=>E.azq(R.Z,{type:"photos"}))),getPlaceholderEl:I.HP((()=>E.azq(Q,null)))}),H=S.Ue();class L extends E.wA2{constructor(){super(...arguments),J(this,"getInfiniteScrollSetting",(t=>{let{shouldRequireInfiniteScrollOptIn:e}=t;return e?H.mk.OptInRequired({optedIn:!1}):H.mk.Enabled()})),J(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),J(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:t}=this.state;H.match({OptInRequired:t=>{let{optedIn:e}=t;const n=H.mk.OptInRequired({optedIn:(0,b.U_)(e)});this.setState({infiniteScrollSetting:n})},[S._]:l.Q1})(t)})),J(this,"fetchDataAndBuildActions",(0,s.Z)((t=>(0,l.ls)(t,f.UI((0,l.ls)(u.Yq,c.E0,(t=>{let{entities:e,result:n}=t;return[(0,d.VA)(e),d.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:n})]}))))))),J(this,"createPhotoFeedIdContextValue",(0,s.Z)((t=>g.G(t))))}UNSAFE_componentWillReceiveProps(t){if(t.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const e=this.getInfiniteScrollSetting(t);this.setState({infiniteScrollSetting:e})}}render(){const{photoFeedOption:t,photosOption:e,children:n,getNoContentEl:o,getPlaceholderEl:i,renderBeneathLoadMoreButton:l,feedId:s,fetchPhotos:r,notifier$:a,intersectionObserverRoot:d,intersectionObserverRootMarginBottom:c,t:h}=this.props,{infiniteScrollSetting:u}=this.state,p=!1===H.match({OptInRequired:t=>{let{optedIn:e}=t;return e},Enabled:()=>!0})(u);return E.azq(_.L.Provider,{value:this.createPhotoFeedIdContextValue(s)},E.azq(v.f,{key:s,renderItems:n,feedItemsOption:e,feedStateOption:t,getScrollFooterEl:()=>E.azq(E.tJQ,{className:T},H.match({OptInRequired:t=>{let{optedIn:e}=t;return e?E.azq(z.Z,null):E.azq(E.PRT,null,E.azq(E.tJQ,{className:N},E.azq(P.Z,{tag:"button",buttonType:m.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button"},h.load_more_button_label())),null==l?void 0:l())},Enabled:()=>E.azq(z.Z,null)})(u)),getNoContentEl:o,getPlaceholderEl:i,shouldDisableInfiniteScroll:p,fetchDataAndBuildActions:this.fetchDataAndBuildActions(r),notifier$:a,intersectionObserverRoot:d,intersectionObserverRootMarginBottom:c}))}}const $=(0,h.O)()((()=>{const t=(0,O.XT)(),e=(0,O.u0)();return(n,o)=>({photoFeedOption:t(n,o.feedId),photosOption:e(n,o.feedId)})})),j=(0,l.zG)(L,(0,r.$j)($),F,(t=>(0,a.b9)(t,x)))}}]);
//# sourceMappingURL=6378.516fdb9e36d449f8c7c4.js.map